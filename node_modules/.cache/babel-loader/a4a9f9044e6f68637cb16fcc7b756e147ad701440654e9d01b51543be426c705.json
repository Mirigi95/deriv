{"ast":null,"code":"// src/App.js\nimport React,{useEffect,useState}from'react';import'./App.css';import Trade from'./Trade';import Login from'./Login';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(_ref){let{onLogout}=_ref;const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{const sessionExpiration=localStorage.getItem('sessionExpiration');if(sessionExpiration&&new Date().getTime()<sessionExpiration){setIsLoggedIn(true);}else{localStorage.removeItem('sessionExpiration');}},[]);useEffect(()=>{if(isLoggedIn){const timer=setTimeout(()=>{localStorage.removeItem('sessionExpiration');setIsLoggedIn(false);},30*60*1000);// 30 minutes\nreturn()=>clearTimeout(timer);}},[isLoggedIn]);const handleLogin=()=>{setIsLoggedIn(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to the App\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onLogout(false),children:\"Logout\"}),/*#__PURE__*/_jsx(Trade,{})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Trade","Login","jsx","_jsx","jsxs","_jsxs","App","_ref","onLogout","isLoggedIn","setIsLoggedIn","sessionExpiration","localStorage","getItem","Date","getTime","removeItem","timer","setTimeout","clearTimeout","handleLogin","className","children","onClick"],"sources":["/home/mtume/Gava/bima/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Trade from './Trade';\nimport Login from './Login';\n\n\nfunction App({ onLogout }) {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const sessionExpiration = localStorage.getItem('sessionExpiration');\n    if (sessionExpiration && new Date().getTime() < sessionExpiration) {\n      setIsLoggedIn(true);\n    } else {\n      localStorage.removeItem('sessionExpiration');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const timer = setTimeout(() => {\n        localStorage.removeItem('sessionExpiration');\n        setIsLoggedIn(false);\n      }, 30 * 60 * 1000); // 30 minutes\n\n      return () => clearTimeout(timer);\n    }\n  }, [isLoggedIn]);\n\n  const handleLogin = () => {\n    setIsLoggedIn(true);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        \n\n        <div>\n      <h1>Welcome to the App</h1>\n      <button onClick={() => onLogout(false)}>Logout</button>\n      <Trade />\n    </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG5B,QAAS,CAAAC,GAAGA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvB,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAEnDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,iBAAiB,CAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,CACnE,GAAIF,iBAAiB,EAAI,GAAI,CAAAG,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAGJ,iBAAiB,CAAE,CACjED,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,IAAM,CACLE,YAAY,CAACI,UAAU,CAAC,mBAAmB,CAAC,CAC9C,CACF,CAAC,CAAE,EAAE,CAAC,CAENlB,SAAS,CAAC,IAAM,CACd,GAAIW,UAAU,CAAE,CACd,KAAM,CAAAQ,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BN,YAAY,CAACI,UAAU,CAAC,mBAAmB,CAAC,CAC5CN,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAE,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE;AAEpB,MAAO,IAAMS,YAAY,CAACF,KAAK,CAAC,CAClC,CACF,CAAC,CAAE,CAACR,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAW,WAAW,CAAGA,CAAA,GAAM,CACxBV,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,mBACEP,IAAA,QAAKkB,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBnB,IAAA,WAAQkB,SAAS,CAAC,YAAY,CAAAC,QAAA,cAG5BjB,KAAA,QAAAiB,QAAA,eACFnB,IAAA,OAAAmB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BnB,IAAA,WAAQoB,OAAO,CAAEA,CAAA,GAAMf,QAAQ,CAAC,KAAK,CAAE,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,cACvDnB,IAAA,CAACH,KAAK,GAAE,CAAC,EACN,CAAC,CACI,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAM,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}