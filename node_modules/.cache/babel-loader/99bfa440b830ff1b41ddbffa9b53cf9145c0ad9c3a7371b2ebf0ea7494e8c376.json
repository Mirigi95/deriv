{"ast":null,"code":"var _jsxFileName = \"/home/mtume/Gava/bima/src/Trade.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport './App.css';\nimport useDerivWebSocket from './Websocket';\n// Replace with your Deriv API token\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiToken = '***********QCwg';\nconst symbol = 'R_100';\nfunction Trade() {\n  _s();\n  const {\n    tick,\n    error,\n    ws\n  } = useDerivWebSocket(apiToken, symbol);\n  const [lastTick, setLastTick] = useState(null);\n  const [lastOrderTime, setLastOrderTime] = useState(0);\n  const throttleTime = 5000; // 5 seconds\n\n  const placeOrder = useCallback(contractType => {\n    if (!ws) return;\n    const order = {\n      buy: 1,\n      price: 10,\n      // Amount you want to trade\n      parameters: {\n        amount: 10,\n        // Stake amount\n        basis: 'stake',\n        // Basis\n        contract_type: contractType,\n        // Contract type ('CALL' or 'PUT')\n        currency: 'USD',\n        // Currency\n        duration: 1,\n        // Duration\n        duration_unit: 'm',\n        // Duration unit\n        symbol: symbol // Symbol\n      }\n    };\n    ws.send(JSON.stringify(order));\n  }, [ws]);\n  useEffect(() => {\n    const now = Date.now();\n    if (tick && lastTick && now - lastOrderTime > throttleTime) {\n      const priceChange = tick.quote - lastTick.quote;\n      if (priceChange > 0) {\n        console.log('Price increased, considering buy...');\n        placeOrder('CALL');\n      } else if (priceChange < 0) {\n        console.log('Price decreased, considering sell...');\n        placeOrder('PUT');\n      }\n      setLastOrderTime(now);\n    }\n    setLastTick(tick);\n  }, [tick, lastTick, placeOrder, lastOrderTime]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Deriv Trading Bot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }, this), tick && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Symbol: \", tick.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Quote: \", tick.quote]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Trade, \"jKKSMFzwpfobMXTjCHPhWxyqeJY=\", false, function () {\n  return [useDerivWebSocket];\n});\n_c = Trade;\nexport default Trade;\nvar _c;\n$RefreshReg$(_c, \"Trade\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useDerivWebSocket","jsxDEV","_jsxDEV","apiToken","symbol","Trade","_s","tick","error","ws","lastTick","setLastTick","lastOrderTime","setLastOrderTime","throttleTime","placeOrder","contractType","order","buy","price","parameters","amount","basis","contract_type","currency","duration","duration_unit","send","JSON","stringify","now","Date","priceChange","quote","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","_c","$RefreshReg$"],"sources":["/home/mtume/Gava/bima/src/Trade.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport './App.css';\nimport useDerivWebSocket from './Websocket';\n// Replace with your Deriv API token\nconst apiToken = '***********QCwg';\nconst symbol = 'R_100';\n\nfunction Trade() {\n  const { tick, error, ws } = useDerivWebSocket(apiToken, symbol);\n  const [lastTick, setLastTick] = useState(null);\n  const [lastOrderTime, setLastOrderTime] = useState(0);\n  const throttleTime = 5000; // 5 seconds\n\n  const placeOrder = useCallback((contractType) => {\n    if (!ws) return;\n\n    const order = {\n      buy: 1,\n      price: 10, // Amount you want to trade\n      parameters: {\n        amount: 10, // Stake amount\n        basis: 'stake', // Basis\n        contract_type: contractType, // Contract type ('CALL' or 'PUT')\n        currency: 'USD', // Currency\n        duration: 1, // Duration\n        duration_unit: 'm', // Duration unit\n        symbol: symbol, // Symbol\n      },\n    };\n\n    ws.send(JSON.stringify(order));\n  }, [ws]);\n\n  useEffect(() => {\n    const now = Date.now();\n\n    if (tick && lastTick && now - lastOrderTime > throttleTime) {\n      const priceChange = tick.quote - lastTick.quote;\n\n      if (priceChange > 0) {\n        console.log('Price increased, considering buy...');\n        placeOrder('CALL');\n      } else if (priceChange < 0) {\n        console.log('Price decreased, considering sell...');\n        placeOrder('PUT');\n      }\n\n      setLastOrderTime(now);\n    }\n    setLastTick(tick);\n  }, [tick, lastTick, placeOrder, lastOrderTime]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Deriv Trading Bot</h1>\n        {error && <p style={{ color: 'red' }}>{error}</p>}\n        {tick && (\n          <div>\n            <p>Symbol: {tick.symbol}</p>\n            <p>Quote: {tick.quote}</p>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default Trade;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAO,WAAW;AAClB,OAAOC,iBAAiB,MAAM,aAAa;AAC3C;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,QAAQ,GAAG,iBAAiB;AAClC,MAAMC,MAAM,GAAG,OAAO;AAEtB,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAG,CAAC,GAAGT,iBAAiB,CAACG,QAAQ,EAAEC,MAAM,CAAC;EAC/D,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EACrD,MAAMgB,YAAY,GAAG,IAAI,CAAC,CAAC;;EAE3B,MAAMC,UAAU,GAAGhB,WAAW,CAAEiB,YAAY,IAAK;IAC/C,IAAI,CAACP,EAAE,EAAE;IAET,MAAMQ,KAAK,GAAG;MACZC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,EAAE;MAAE;MACXC,UAAU,EAAE;QACVC,MAAM,EAAE,EAAE;QAAE;QACZC,KAAK,EAAE,OAAO;QAAE;QAChBC,aAAa,EAAEP,YAAY;QAAE;QAC7BQ,QAAQ,EAAE,KAAK;QAAE;QACjBC,QAAQ,EAAE,CAAC;QAAE;QACbC,aAAa,EAAE,GAAG;QAAE;QACpBtB,MAAM,EAAEA,MAAM,CAAE;MAClB;IACF,CAAC;IAEDK,EAAE,CAACkB,IAAI,CAACC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;EAChC,CAAC,EAAE,CAACR,EAAE,CAAC,CAAC;EAERZ,SAAS,CAAC,MAAM;IACd,MAAMiC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;IAEtB,IAAIvB,IAAI,IAAIG,QAAQ,IAAIoB,GAAG,GAAGlB,aAAa,GAAGE,YAAY,EAAE;MAC1D,MAAMkB,WAAW,GAAGzB,IAAI,CAAC0B,KAAK,GAAGvB,QAAQ,CAACuB,KAAK;MAE/C,IAAID,WAAW,GAAG,CAAC,EAAE;QACnBE,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;QAClDpB,UAAU,CAAC,MAAM,CAAC;MACpB,CAAC,MAAM,IAAIiB,WAAW,GAAG,CAAC,EAAE;QAC1BE,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;QACnDpB,UAAU,CAAC,KAAK,CAAC;MACnB;MAEAF,gBAAgB,CAACiB,GAAG,CAAC;IACvB;IACAnB,WAAW,CAACJ,IAAI,CAAC;EACnB,CAAC,EAAE,CAACA,IAAI,EAAEG,QAAQ,EAAEK,UAAU,EAAEH,aAAa,CAAC,CAAC;EAE/C,oBACEV,OAAA;IAAKkC,SAAS,EAAC,KAAK;IAAAC,QAAA,eAClBnC,OAAA;MAAQkC,SAAS,EAAC,YAAY;MAAAC,QAAA,gBAC5BnC,OAAA;QAAAmC,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACzBjC,KAAK,iBAAIN,OAAA;QAAGwC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAM,CAAE;QAAAN,QAAA,EAAE7B;MAAK;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAChDlC,IAAI,iBACHL,OAAA;QAAAmC,QAAA,gBACEnC,OAAA;UAAAmC,QAAA,GAAG,UAAQ,EAAC9B,IAAI,CAACH,MAAM;QAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5BvC,OAAA;UAAAmC,QAAA,GAAG,SAAO,EAAC9B,IAAI,CAAC0B,KAAK;QAAA;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACnC,EAAA,CA3DQD,KAAK;EAAA,QACgBL,iBAAiB;AAAA;AAAA4C,EAAA,GADtCvC,KAAK;AA6Dd,eAAeA,KAAK;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}